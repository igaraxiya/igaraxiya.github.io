<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#4130ff"><meta name="author" content="igaraxiya"><meta name="copyright" content="igaraxiya"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>unity小笔记 | n(*≧▽≦*)n</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.24/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/igaraxiya/igaraxiya.github.io/images/favicon.ico"><link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/igaraxiya/igaraxiya.github.io/images/favicon.ico" color="#4130ff"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"igaraxiya.github.io","root":"/","title":"クトリ・ノタ・セニオリス","version":"1.5.1","mode":"auto","copycode":true,"page":{"isPost":true},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="手册太长好难翻 # Update，FixedUpdate， LateUpdatevoid FixedUpdate () &#x2F;&#x2F;固定更新  void Update ()      &#x2F;&#x2F;更新  void LateUpdate()   &#x2F;&#x2F;晚于更新   FixedUpdate () 和 Update ()      同：当MonoBehaviou">
<meta property="og:type" content="article">
<meta property="og:title" content="unity小笔记">
<meta property="og:url" content="http://igaraxiya.github.io/2021/05/08/unity%E7%89%A9%E4%BD%93%E5%B1%9E%E6%80%A7/index.html">
<meta property="og:site_name" content="n(*≧▽≦*)n">
<meta property="og:description" content="手册太长好难翻 # Update，FixedUpdate， LateUpdatevoid FixedUpdate () &#x2F;&#x2F;固定更新  void Update ()      &#x2F;&#x2F;更新  void LateUpdate()   &#x2F;&#x2F;晚于更新   FixedUpdate () 和 Update ()      同：当MonoBehaviou">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-05-08T13:55:21.000Z">
<meta property="article:modified_time" content="2021-05-25T15:09:16.191Z">
<meta property="article:author" content="igaraxiya">
<meta property="article:tag" content="Unity, C#">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="igaraxiya"><img width="96" loading="lazy" src="https://cdn.jsdelivr.net/gh/igaraxiya/igaraxiya.github.io/images/avatar.png" alt="igaraxiya"></a><div class="site-author-name"><a href="/about/">igaraxiya</a></div><a class="site-name" href="/about/site.html">n(*≧▽≦*)n</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">9</span></a></div><a class="site-state-item hty-icon-button" href="/" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Update%EF%BC%8CFixedUpdate%EF%BC%8C-LateUpdate"><span class="toc-number">1.</span> <span class="toc-text"># Update，FixedUpdate， LateUpdate</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9A%E4%BD%93%E5%B1%9E%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text"># 刚体属性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E6%A3%80%E6%B5%8B%E6%8C%89%E9%94%AE"><span class="toc-number">3.</span> <span class="toc-text"># Unity检测按键</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#input-GetAxis"><span class="toc-number">3.1.</span> <span class="toc-text">input.GetAxis</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#public-static-bool-GetKeyDown"><span class="toc-number">3.2.</span> <span class="toc-text">public static bool GetKeyDown ()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text"># 碰撞检测方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OnCollisionEnter-OnTriggerEnter"><span class="toc-number">4.1.</span> <span class="toc-text">OnCollisionEnter&#x2F;OnTriggerEnter</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E5%88%87%E6%8D%A2"><span class="toc-number">5.</span> <span class="toc-text">场景切换</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vector3"><span class="toc-number">6.</span> <span class="toc-text">Vector3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Object%E7%94%9F%E6%88%90%E4%B8%8E%E6%91%A7%E6%AF%81"><span class="toc-number">7.</span> <span class="toc-text">Object生成与摧毁</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://igaraxiya.github.io/2021/05/08/unity%E7%89%A9%E4%BD%93%E5%B1%9E%E6%80%A7/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="igaraxiya"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="n(*≧▽≦*)n"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">unity小笔记</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="创建时间：2021-05-08 21:55:21" itemprop="dateCreated datePublished" datetime="2021-05-08T21:55:21+08:00">2021-05-08</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/Unity/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Unity</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/Unity-C/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Unity, C#</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#4130ff;"><p><del>手册太长好难翻</del></p>
<h1 id="Update，FixedUpdate，-LateUpdate"><a href="#Update，FixedUpdate，-LateUpdate" class="headerlink" title="# Update，FixedUpdate， LateUpdate"></a># Update，FixedUpdate， LateUpdate</h1><pre class="language-c#" data-language="c#"><code class="language-c#">void FixedUpdate () &#x2F;&#x2F;固定更新

void Update ()      &#x2F;&#x2F;更新

void LateUpdate()   &#x2F;&#x2F;晚于更新</code></pre>

<ol>
<li><code>FixedUpdate () </code>和 <code>Update ()   </code></li>
</ol>
<ul>
<li><p>同：当<code>MonoBehaviour</code>启用时，其在每一帧被调用。都是用来更新的</p>
</li>
<li><p>异：<code>Update()</code><strong>每一帧的时间不固定</strong>，即第一帧与第二帧的时间t1和第三帧与第四帧的时间t2不一定相同。<code>FixedUpdate()</code><strong>每帧与每帧之间相差的时间是固定的</strong>.</p>
</li>
</ul>
<p><code>Update</code>受当前渲染的物体影响，这与当前场景中正在被渲染的物体有关（比如人物的面数，个数等），有时快有时慢，帧率会变化，Update被调用的时间间隔就会发生变化。但是<code>FixedUpdate</code>则不受帧率的变化影响，它是以固定的时间间隔来被调用。</p>
<ul>
<li>所以一些物理属性的更新操作应该放在<code>FxiedUpdate</code>中操作，比如<code>Force</code>，<code>Collider</code>，<code>Rigidbody</code>等。外设的操作也是，比如说键盘或者鼠标的输入输出Input，因为这样<code>GameObject</code>的物理表现的更平滑，更接近现实。</li>
</ul>
<p><code>FixedUpdate</code>的时间间隔可以在项目设置中更改，Edit-&gt;Project Setting-&gt;time 找到Fixed timestep。就可以修改了</p>
<ol start="2">
<li><code>Update</code>和<code>LateUpdate</code></li>
</ol>
<p><code>LateUpdate</code>是在所有Update函数调用后被调用。可用于调整脚本执行顺序。</p>
<ul>
<li>例如：当物体在Update里移动时，跟随物体的相机可以在<code>LateUpdate</code>里实现。</li>
</ul>
<p>Unity后台主线程将 <code>Update</code> <code>LateUpdate</code> 制作成两个多线程 先去执行<code>Update</code>的线程，等<code>Update</code> 执行完毕后 在去执行<code>LateUpdate</code>线程。<br>举个例子，一个宿舍4个人，每个人的起床在<code>update</code>中执行，出发在某个人中的<code>lateupdate</code>执行，这样就可以保证每个人都起床了才会出发。</p>
<h1 id="刚体属性"><a href="#刚体属性" class="headerlink" title="# 刚体属性"></a># 刚体属性</h1><pre class="language-c#" data-language="c#"><code class="language-c#">public Rigibody rb;
rb.velocity &#x3D; new Vector3(1, 1, 1).normalized;
&#x2F;&#x2F;velocity速度</code></pre>

<h1 id="Unity检测按键"><a href="#Unity检测按键" class="headerlink" title="# Unity检测按键"></a># Unity检测按键</h1><h2 id="input-GetAxis"><a href="#input-GetAxis" class="headerlink" title="input.GetAxis"></a>input.GetAxis</h2><pre class="language-none"><code class="language-none">GetAxis(&quot;Mouse X&quot;),
GetAxis(&quot;Mouse Y&quot;),
GetAxis(&quot;Mouse ScrollWheel&quot;),
GetAxis(&quot;Vertical&quot;),
GetAxis(&quot;Horizontal&quot;)
GetAxis 是个方法，需要传参数，参数为string类型，参数如下：
一：触屏类
  1.Mouse X            鼠标沿着屏幕X移动时触发
  2.Mouse Y            鼠标沿着屏幕Y移动时触发
  3.Mouse ScrollWheel  当鼠标滚动轮滚动时触发
二：键盘操作类
  1.Vertical      对应键盘上面的上下箭头(或WS键)，当按下上或下箭头时触发
  2.Horizontal    对应键盘上面的左右箭头(或AD键)，当按下左或右箭头时触发
  返回值为-1 ~ 1（↑ ~ ↓）</code></pre>

<p>可以通过编辑器中的<code>Edit-&gt;Project Setting-&gt;Input </code>查看</p>
<h2 id="public-static-bool-GetKeyDown"><a href="#public-static-bool-GetKeyDown" class="headerlink" title="public static bool GetKeyDown ()"></a>public static bool <strong>GetKeyDown</strong> ()</h2><ul>
<li><p>public static bool <strong>GetKeyDown</strong> (<a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/2020.2/ScriptReference/KeyCode.html">KeyCode</a> <strong>key</strong>)</p>
<p>在用户开始按下 <code>key</code>枚举参数标识的键的帧期间返回 true。</p>
</li>
<li><p>public static bool <strong>GetKeyDown</strong> (string <strong>name</strong>)</p>
<p>在用户开始按下 <code>name</code> 标识的键的帧期间返回 true。</p>
<p>有关键标识符的列表，请参阅<a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/2020.2/Manual/ConventionalGameInput.html">传统游戏输入</a>（<del>链接打不开了？</del>）。</p>
</li>
</ul>
<p>处理输入时，建议改用 <a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/2020.2/ScriptReference/Input.GetAxis.html">Input.GetAxis</a> 和 <a target="_blank" rel="noopener" href="https://docs.unity3d.com/cn/2020.2/ScriptReference/Input.GetButton.html">Input.GetButton</a>， 因为这允许终端用户对键进行配置。<br>需要从 <code>Update</code> 函数调用该函数（因为每帧都会重置状态）。 在用户释放键并再次按键之前，它不会返回 true。</p>
<h1 id="碰撞检测方法"><a href="#碰撞检测方法" class="headerlink" title="# 碰撞检测方法"></a># 碰撞检测方法</h1><h2 id="OnCollisionEnter-OnTriggerEnter"><a href="#OnCollisionEnter-OnTriggerEnter" class="headerlink" title="OnCollisionEnter/OnTriggerEnter"></a>OnCollisionEnter/OnTriggerEnter</h2><ul>
<li><code>OnCollisionEnter(collision other)</code>触发条件：</li>
</ul>
<ol>
<li>碰撞双方必须是碰撞体 </li>
<li>碰撞的主动方必须是刚体，注意我的用词是主动方，而不是被动方 </li>
<li>刚体不能勾选IsKinematic </li>
<li>碰撞体不能够勾选IsTigger</li>
</ol>
<p>OnCollisionEnter方法的形参对象指的是碰撞双方中没有携带OnCollisionEnter方法的一方</p>
<ul>
<li><code>OnTriggerEnter(collider other)</code>触发条件：</li>
</ul>
<ol>
<li>碰撞双方都必须是碰撞体</li>
<li>碰撞双方其中一个碰撞体必须勾选IsTigger选项 </li>
<li>碰撞双方其中一个必须是刚体 </li>
<li>刚体的IsKinematic选项可以勾选也可以不勾选</li>
</ol>
<p>只要满足上面两个条件，不管谁主动都会触发,OnTriggerEnter方法的形参对象指的是碰撞双方中没有携带OnTriggerEnter方法的一方 </p>
<h1 id="场景切换"><a href="#场景切换" class="headerlink" title="场景切换"></a>场景切换</h1><pre class="language-c#" data-language="c#"><code class="language-c#">SceneManager.LoadScene(int nextStageIndex);
&#x2F;&#x2F;切换到编号为nextStageIndex的场景</code></pre>

<h1 id="Vector3"><a href="#Vector3" class="headerlink" title="Vector3"></a>Vector3</h1><pre class="language-c#" data-language="c#"><code class="language-c#">float Vector3.Distance(Vector3 a, Vector3 b)&#x2F;&#x2F;两个向量之间的距离
float Vector3.Angle(Vector3 from, vector to)&#x2F;&#x2F;两个向量的夹角</code></pre>

<pre class="language-c#" data-language="c#"><code class="language-c#">transform.forward &#x3D; (target.position - target.position).nomalized
    &#x2F;&#x2F;让物体指向target的方向</code></pre>

<p>只有组件Vector3才需要同时修改xyz分量，自己定义的变量可以单独修改各分量。</p>
<h1 id="Object生成与摧毁"><a href="#Object生成与摧毁" class="headerlink" title="Object生成与摧毁"></a>Object生成与摧毁</h1><ul>
<li><code>Instantiate</code>返回一个对象，同时复制然后实例化它</li>
</ul>
<pre class="language-C#" data-language="C#"><code class="language-C#">public static Object Instantiate(Object original);

public static Object Instantiate(Object original, Transform parent);

public static Object Instantiate(Object original, Transform parent, bool instantiateInWorldSpace);

public static Object Instantiate(Object original, Vector3 position, Quaternion rotation);

public static Object Instantiate(Object original, Vector3 position, Quaternion rotation, Transform parent);</code></pre>

<p>Instantiate函数实例化是将original对象的所有子物体和子组件完全复制，成为一个新的对象。这个新的对象拥有与源对象完全一样的东西，包括坐标值等。</p>
<table>
<thead>
<tr>
<th align="left"><strong>original</strong></th>
<th>用来做复制操作的对像物体，源对象</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>position</strong></td>
<td><strong>实例化的对象的位置坐标</strong></td>
</tr>
<tr>
<td align="left"><strong>rotation</strong></td>
<td><strong>实例化的对象的旋转坐标（旋转四元数）</strong></td>
</tr>
<tr>
<td align="left"><strong>parent</strong></td>
<td><strong>实例化对象的父对象</strong></td>
</tr>
</tbody></table>
<p>其中包<code>parent</code>参数的：</p>
<p><code>instantiateWorldSpace</code>等于<code>false</code>。效果：实例化对象将放在父对象下，完全保存了源对象的属性，其位置坐标值是相对于父对象的，<strong>值不变，在世界坐标系下位置发生变化</strong>。<br><code>instantiateWorldSpace</code>等于<code>true</code>。效果：实例化对象将放在父对象下，完全保存了源对象的属性，其位置坐标值是相对于父对象的，<strong>值改变，在世界坐标系下位置不发生变化</strong>。</p>
<p>没有<code>instantiateWorldSpace</code>参数既默认等于<code>false</code></p>
<ul>
<li><code>Destory</code></li>
</ul>
<pre class="language-c#" data-language="c#"><code class="language-c#">public static void Destroy(Object obj, float t &#x3D; 0.0f);</code></pre>

<table>
<thead>
<tr>
<th>obj</th>
<th>要摧毁的物体</th>
</tr>
</thead>
<tbody><tr>
<td><strong>t</strong></td>
<td><strong>摧毁前的等待的时间</strong></td>
</tr>
</tbody></table>
<p>如果Object实际上为组件，则会将其从gameobject中删除并销毁；如果实际上为gameobject则将销毁它的全部组件及其所有子物体</p>
</div></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/04/20/java%E8%AF%AD%E6%B3%95%E5%B0%8F%E7%BB%93/" rel="next" title="java语法小结"><span class="post-nav-text">java语法小结</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> igaraxiya</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#4130ff" stroke-width="2" stroke-linecap="round"></circle></svg></a></div></body></html>